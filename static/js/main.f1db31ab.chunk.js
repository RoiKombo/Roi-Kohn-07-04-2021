(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{70:function(e,t,n){"use strict";n.r(t);var c,o,i,r=n(0),a=n.n(r),s=n(10),l=n.n(s),u=n(18),d=n(13),j=n(5),f=n(6),b=n(7),p=n(21),h=n(1),O=b.a.div(c||(c=Object(f.a)(["\n    width: 100vw;\n    display:flex;\n    justify-content: space-between;\n    background-color: #553074;\n"]))),v=(b.a.button(o||(o=Object(f.a)(["\n    display:flex;\n    justify-content: flex-end;\n"]))),b.a.div(i||(i=Object(f.a)(["\n    display:flex;\n    justify-content: flex-start;\n    color: white;\n"]))));function g(){return Object(h.jsxs)(O,{children:[Object(h.jsx)(v,{children:"HEROLO weather task"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(u.b,{to:"/",children:Object(h.jsx)(p.Button,{label:"HOME",icon:"pi pi-home"})}),Object(h.jsx)(u.b,{to:"/favorites",children:Object(h.jsx)(p.Button,{label:"FAVORITES",icon:"pi pi-star-o"})})]})]})}var x,y,m,C=n(31),w=n(14),N=n(43),T=n(12),k="SUGGESTIONS",S="GET_WEATHER",E="CURRENT_CONDITIONS",A="FAVORITES_CONDITIONS",W=function(e){return function(t){console.log("getWeather",e),fetch("TelAvivWeather.json").then((function(e){return e.json()})).then((function(e){return t({type:S,payload:e})})).catch((function(e){return console.log("faild to get 5 day foreCast")}))}},I=function(e,t){return function(n){console.log("getcurrent",e,t),fetch("TelAvivCurrent.json").then((function(e){return e.json()})).then((function(c){var o=c[0];n({type:E,payload:Object(T.a)(Object(T.a)({},o),{},{cityName:t,key:e})})})).catch((function(e){return console.log("faild to get current conditions")}))}},F=b.a.div(x||(x=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n"]))),M=Object(d.b)((function(e){return{data:e.data}}),{getAutoComplete:function(e){return function(t){console.log("getAutoComplete",e),fetch("te.json").then((function(e){return e.json()})).then((function(e){return t({type:k,payload:e})})).catch((function(e){return console.log("faild to get autoComplete API")}))}},getWeather:W,getCurrentConditions:I})((function(e){var t=e.data,n=e.getAutoComplete,c=e.getWeather,o=e.getCurrentConditions,i=Object(r.useState)(),a=Object(w.a)(i,2),s=a[0],l=a[1],u=t.suggestions,d=void 0===u?[]:u;Object(r.useEffect)((function(){console.log("inputCity",s);var e=d.filter((function(e){return e.LocalizedName===s.value}));console.log("checkCityName",e),e.length>0&&c(e[0].Key),e.length>0&&o(e[0].Key,e[0].LocalizedName)}),[s]);var j=d.map((function(e){return{label:e.LocalizedName,value:e.LocalizedName}}));return Object(h.jsx)(F,{children:Object(h.jsx)(N.AutoComplete,{value:s,suggestions:j,field:"value",onChange:function(e){return t=e.value,void(new RegExp(/(^$|^[a-zA-Z ]+$)/).test(t)?l(t):console.log("search accepts english letters only"));var t},completeMethod:function(){console.log("inputCity",s),void 0!==s&&n(s)},type:"a-z"})})})),R=n(44),D=n.n(R),L=b.a.div(y||(y=Object(f.a)(["\n    padding: 1.2rem;\n    background-color: #d5ecc2;\n    margin: 5px\n\n"]))),z=b.a.div(m||(m=Object(f.a)(["\n    display: flex;\n    justify-content: space-around;\n"]))),V=Object(d.b)((function(e){return{data:e.data}}))((function(e){var t,n,c=e.data;return console.log("DailyForecasts",c),Object(h.jsx)(z,{children:null===c||void 0===c||null===(t=c.weeklyForecast)||void 0===t||null===(n=t.DailyForecasts)||void 0===n?void 0:n.map((function(e,t){return Object(h.jsxs)(L,{children:[D()(e.Date).format("dddd"),Object(h.jsx)("p",{children:e.Day.IconPhrase}),Object(h.jsxs)("p",{children:[e.Temperature.Minimum.Value,"\xb0"]}),Object(h.jsxs)("p",{children:[e.Temperature.Maximum.Value,"\xb0"]})]},t)}))})}));var B,J,P,G,H,_,K,U,$,Z=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),c=Object(w.a)(n,2),o=c[0],i=c[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]},q=(b.a.div(B||(B=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n"]))),b.a.div(J||(J=Object(f.a)(["   \n    display: flex;\n    flex-direction: column;\n    width: 80%;background: #ffffff;\n    color: #495057;\n    box-shadow:  3px 3px 17px #e1e1e3, -3px -3px 17px #ffffff;\n    border-radius: 15px;\n    margin: 0 0 30px 10px;\n    padding: 23px;\n    flex-grow: 1;\n    margin: auto;\n"])))),Q=(b.a.div(P||(P=Object(f.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;   \n"]))),b.a.button(G||(G=Object(f.a)(["\n     display: flex;\n    justify-content: flex-end;\n"]))),b.a.img(H||(H=Object(f.a)(["\n    width: 100px;\n    height: 100px;\n"]))),b.a.div(_||(_=Object(f.a)(["\n    display: flex;\n    justify-content: flex-start;\n"]))),b.a.h1(K||(K=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n"]))),Object(d.b)((function(e){return{data:e.data,currentCity:e.data.currentConditions.cityName}}),{getWeather:W,getCurrentConditions:I})((function(e){var t=e.data,n=e.getWeather,c=e.getCurrentConditions,o=e.currentCity;console.log("current",o);var i=Z("favorites",[]),a=Object(w.a)(i,2),s=a[0],l=a[1],u=Object(r.useState)(!1),d=Object(w.a)(u,2),j=d[0],f=d[1];Object(r.useEffect)((function(){n(215854),c(215854,"Tel Aviv")}),[]);return Object(r.useEffect)((function(){(s.length>0?s.filter((function(e){if(e.cityName===o)return e})):[]).length>0?f(!0):f(!1)}),[o]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(M,{})}),Object(h.jsxs)(q,{children:[t.currentConditions.WeatherText&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:t.currentConditions.cityName}),Object(h.jsx)("div",{children:t.currentConditions.WeatherText}),Object(h.jsxs)("div",{children:[t.currentConditions.Temperature.Metric.Value,"\xb0"]})]}),Object(h.jsx)(p.Button,{onClick:function(){return function(e){var t=e.cityName,n=e.key,c=s.length>0?s.filter((function(e){if(e.cityName===t)return e})):[];if(console.log("index",c,s,t,n),c.length>0){f(!1);var o=s.reduce((function(e,n){return n.cityName!==t?[].concat(Object(C.a)(e),[n]):e}),[]);l(o)}else{f(!0),console.log("set fav",t,n);var i=s.length>0?s:[];l([].concat(Object(C.a)(i),[{cityName:t,key:n}]))}}(t.currentConditions)},icon:"pi pi-star-o",className:j?"p-button-rounded p-button-secondary":"p-button-rounded p-button-secondary p-button-outlined"}),Object(h.jsx)(V,{})]})]})}))),X=b.a.div(U||(U=Object(f.a)(["\n    \n    padding: 1.2rem;\n    background-color: #d5ecc2;\n    margin: 5px\n"]))),Y=b.a.div($||($=Object(f.a)(["\n    display: flex;\n    justify-content: center;\n"]))),ee=Object(d.b)((function(e){return{favoritesConditions:e.data.favoritesConditions,currentCity:e.data.currentConditions.cityName}}),{getFavoritesConditions:function(e){return function(t){console.log("FavoritesConditions",e),Promise.all(e.map((function(e){return fetch("TelAvivCurrent.json")}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){t({type:A,payload:e})})).catch((function(e){return console.log("faild to get favorite conditions")}))}},getWeather:W,getCurrentConditions:I})((function(e){var t=e.getFavoritesConditions,n=e.favoritesConditions,c=e.getWeather,o=e.getCurrentConditions,i=Z("favorites"),a=Object(w.a)(i,2),s=a[0];a[1];console.log("favorites",s);var l=Object(j.f)();Object(r.useEffect)((function(){t(s)}),[]);var u=function(e){var t=e.slice(31),n=t.indexOf("/");return t.slice(0,n).replace("-"," ")};console.log("convertCityName",u("http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"));return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"This are my favorites, there are many favorites but these ones are mine"}),Object(h.jsx)(Y,{children:n.map((function(e,t){return Object(h.jsxs)(X,{onClick:function(){return function(e){var t=e.slice(63),n=t.indexOf("?"),i=t.slice(0,n);c(i),o(i,u(e)),l.push("/")}(e[0].MobileLink)},children:[Object(h.jsx)("div",{children:u(e[0].MobileLink)}),Object(h.jsx)("div",{children:e[0].WeatherText}),Object(h.jsxs)("div",{children:[e[0].Temperature.Metric.Value,"\xb0"]})]},t)}))})]})})),te=n(15),ne=n(45),ce=n(46),oe={suggestions:[],weeklyForecast:{},currentConditions:{},favoritesConditions:[]},ie=Object(te.combineReducers)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(T.a)(Object(T.a)({},e),{},{suggestions:t.payload});case S:return Object(T.a)(Object(T.a)({},e),{},{weeklyForecast:t.payload});case E:return Object(T.a)(Object(T.a)({},e),{},{currentConditions:t.payload});case A:return Object(T.a)(Object(T.a)({},e),{},{favoritesConditions:t.payload});default:return e}}}),re=[ce.a],ae=Object(te.createStore)(ie,{},Object(ne.composeWithDevTools)(te.applyMiddleware.apply(void 0,re)));n(67),n(68),n(69);var se=function(){return Object(h.jsx)(d.a,{store:ae,children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{}),Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/favorites",component:ee}),Object(h.jsx)(j.a,{path:"/",component:Q,exact:!0})]})]})})};l.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(u.a,{children:Object(h.jsx)(se,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f1db31ab.chunk.js.map